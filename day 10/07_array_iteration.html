<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>
        배열의 순환 할 수 있는 구조를 이용하여 특정 기능을 수행하는 메서드
    </h1>
    <ul>
        <li>
            array.forEach(callback function) : 일반 반목문과 유사한 형태 forEach(value, index, array)
        </li>
        <li>
            array.map(callback function) : forEach 의 결과를 리턴해서 새로운 배열을 생성
        </li>
        <li>
            array.filter(callback function) : map 처럼 수행하면서 비교연산을 통해 true 값만 필터링하여 리턴
        </li>
    </ul>

    <script>

        const numArr = [3,1,4,6,7,2,8,9];
        const strArr = ['b','t','a','f','n','d'];

        console.log('--forEach(value, index, array)--');
        numArr.forEach(function(v,i,a){
            console.log(v, i, a);
        });
        console.log('--forEach(value, index)--');
        let sum = 0;
        numArr.forEach(function(v,i){
            console.log(i, v);
            sum += v;
            console.log(sum);
        });
        console.log(sum);
        console.log('--strArr(value, index)');
        strArr.forEach(function(v,i){
            console.log(i, v);
        });

        function printNumber(v,i,a){
            console.log(v,i,a);
        }
        console.log('--invoke callback function--');
        // invoke 경우 () 쓰지 않음.
        numArr.forEach(printNumber);
        strArr.forEach(printNumber);
        // 화살표 익명 함수
        numArr.forEach(printNumber);
        strArr.forEach((v,i) => {
            console.log(i,v);
        });

        console.log('--map--');
        const newNumArr = numArr.map(function(v,i,a){
            return `${v}, ${i},${a}`;
        });
        console.log(newNumArr); 

        const newStrArr = strArr.map(function(v,i){
            return `${i}, ${v}`;
        });
        console.log(newStrArr);
        
        const newStrArr2 = strArr.forEach(function(v,i){
            return `${i}, ${v}`;
        });
        console.log(newStrArr2); // undefined

        console.log('--filter--');
        const newNumArr2 = numArr.filter(function (v){
            return v > 5;
        });
        console.log(newNumArr2);

        // map을 이용하여 numArr*2 한 값으로 배열을 리턴 => 출력

        const newNumArr3 = numArr.map(function(v){
            return v*2;
        });
        console.log(newNumArr3);

        newNumArr3.forEach(function(v,i){
            console.log(`${i}, ${v}`);
        });

        // 화살표 함수에서 파라미터가 1개면 () 생략 가능
        // 함수 처리 구문이 하나면 {return} 생략 가능
        const map3 = numArr.map((v) => {
            return v*2;
        });
        console.log(map3);

        const mmm = (arr) => {
            
            const map4 = [];
            for(let i of arr){
                map4.push(i*2);
            };

            return map4;
        }
        const mmm2 = mmm(numArr);
        console.log(mmm2);
        
        // filter 를 이용하여 numArr의 짝수만 출력

        const filter = numArr.filter((v) =>{
            return v%2==0;
        });
        console.log(filter);


    </script>


</body>
</html>