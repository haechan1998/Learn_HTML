<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>
        JSON(JavaScript Object Notation) : 자바 스크립트 객체 표기법
    </h1>
    <ul>
        <li>
            데이터의 요청 및 응답처리에 필요한 데이터의 표준 형식을 제공하는 타입
        </li>
        <li>
            백엔드(서버) 언어 종류에 상관없이 데이터를 송 수신 단말 형식으로 통일
        </li>
        <li>
            서버측에서는 무조건 String 처리 = 화면(javascript)에서는 Object 로 처리
        </li>
        <li>
            서버로 보낼 때 > Object > string => JSON.stringify(jsObject);
        </li>
        <li>
            서버로 부터 화면에서 받을 때 > string > Object > JSON.parse(Stringdata);
        </li>
    </ul>

    <script>
        const cake = {
            id : '1234',
            type : 'donut',
            name : 'donut',
            image : {
                url : '../image/001.jpg',
                width : '200',
                heigth : '50'
            },
            thumbnail : {
                url : '../image/001.jpg',
                width : '50',
                heigth : '5'
            }
        }
        console.log(cake);
        // cake Object => string 변환
        let cakeStr = JSON.stringify(cake)
        console.log(cakeStr);

        /*
            {"id":"1234","type":"donut","name":"donut",
            "image":{"url":"../image/001.jpg","width":"200","heigth":"50"},
            "thumbnail":{"url":"../image/001.jpg","width":"50","heigth":"5"}}
        */
        // console에 key : value 형태로 출력해보기.

        let cakeObj = JSON.parse(cakeStr);
        console.log(cakeObj);

        // for in
        for(let obj in cakeObj){
            if(obj == 'image' || obj == 'thumbnail'){
                for(let obj2 in cakeObj[obj]){
                    console.log(`${obj2} : ${cake[obj][obj2]}`);
                }
            }else{
                console.log(`${obj} : ${cakeObj[obj]}`);
            }
        }

    </script>
</body>
</html>